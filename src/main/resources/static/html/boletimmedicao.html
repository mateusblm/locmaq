<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Cadastrar Boletim de Medição - LocMac</title>
    <link rel="stylesheet" href="../css/padrao.css">
</head>
<body>
<header class="main-header">
    <div class="logo">LocMac</div>
    <nav class="nav-links"></nav>
    <div class="user-info">
        <span id="user-role"></span>
        <img src="../imgs/images.png" class="user-image">
        <a href="../html/usuario.html"><span id="user-name"></span></a>
        <a href="/logout" class="logout-btn">Sair</a>
    </div>
</header>
<main>
    <form id="boletimForm" style="background:#fff;padding:24px;border-radius:10px;max-width:520px;margin:40px auto;box-shadow:0 2px 8px #0001;">
        <h2 style="margin-bottom:18px;" id="formTitle">Cadastrar Boletim de Medição</h2>
        <label>Data Início:</label>
        <input type="date" id="dataInicio" name="dataInicio" required>
        <label>Data Fim:</label>
        <input type="date" id="dataFim" name="dataFim" required>

        <label>Planejador:</label>
        <select id="planejadorSelect" name="planejadorId" required>
            <option value="">Selecione...</option>
        </select>
        <label>Situação:</label>
        <input type="text" id="situacao" name="situacao" value="PENDENTE" readonly>

        <h3 style="margin:20px 0 8px 0;">Equipamentos</h3>
        <div id="equipamentos-list" style="margin-bottom:10px;"></div>
        <button type="button" class="secondary-btn" onclick="addEquipamento()" style="margin-bottom:16px;">+ Adicionar Equipamento</button>
        <div class="boletim-form-btn-group">
            <button type="submit" class="primary-btn" id="saveBtn">Salvar Boletim</button>
            <button type="button" class="primary-btn" id="editBtn" style="display:none;">Atualizar</button>
            <button type="button" class="secondary-btn" id="cancelBtn" style="display:none;">Cancelar</button>
            <button type="reset" class="secondary-btn">Limpar</button>
        </div>
    </form>
    <section style="margin: 40px auto 0 auto;max-width:900px;">
        <h3>Histórico de Boletins</h3>
        <table style="width:100%;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0001;">
            <thead>
            <tr>
                <th>Período</th>
                <th>Planejador</th>
                <th>Situação</th>
                <th>Assinado</th>
                <th>Ações</th>
            </tr>
            </thead>
            <tbody id="tabelaBoletins"></tbody>
        </table>
    </section>

    <section id="boletimDetailSection" style="display:none; max-width:600px; margin:40px auto;">
        <h3>Detalhes do Boletim</h3>
        <form>
            <input type="hidden" id="boletimIdDetalhe" name="id">
            <label>Data Início:</label>
            <input type="date" id="dataInicioDetalhe" name="dataInicio" readonly>
            <label>Data Fim:</label>
            <input type="date" id="dataFimDetalhe" name="dataFim" readonly>
            <label>Planejador:</label>
            <input type="text" id="planejadorDetalhe" name="planejador" readonly>
            <label>Situação:</label>
            <input type="text" id="situacaoDetalhe" name="situacao" readonly>
            <div style="text-align:right; margin-top:14px;">
                <button type="button" onclick="fecharDetalhe()" style="background:#87a6b5;">Fechar</button>
            </div>
        </form>
    </section>
</main>
<script src="../js/menu.js"></script>
<script src="../js/boletimmedicao.js"></script>
<script>
<script>
    function fecharDetalhe() {
        document.getElementById('boletimDetailSection').style.display = "none";
    }
</script>
</body>
</html>